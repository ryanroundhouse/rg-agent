#!/bin/bash
# RG-Agent wrapper script

# Get the directory where this script is actually located (resolve symlinks)
SCRIPT_PATH="${BASH_SOURCE[0]}"

# Resolve symlinks to get the actual script location
while [ -L "$SCRIPT_PATH" ]; do
    SCRIPT_DIR="$(cd "$(dirname "$SCRIPT_PATH")" && pwd)"
    SCRIPT_PATH="$(readlink "$SCRIPT_PATH")"
    if [[ "$SCRIPT_PATH" != /* ]]; then
        SCRIPT_PATH="$SCRIPT_DIR/$SCRIPT_PATH"
    fi
done

# Get the directory containing the actual script
SCRIPT_DIR="$(cd "$(dirname "$SCRIPT_PATH")" && pwd)"

# Activate the virtual environment and run the agent
source "$SCRIPT_DIR/venv/bin/activate" && python "$SCRIPT_DIR/agent.py" "$@"
